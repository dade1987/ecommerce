APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

# ============================================================================
# SECURITY SETTINGS - PRODUCTION
# ============================================================================
# Per la produzione, assicurarsi di impostare:
# APP_ENV=production
# APP_DEBUG=false
# LOG_LEVEL=warning
# SESSION_SECURE_COOKIE=true
# SESSION_HTTP_ONLY=true
# SESSION_SAME_SITE=strict
# ============================================================================

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# Session Security (impostare per produzione)
SESSION_SECURE_COOKIE=false
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

# API Keys (MAI committare con valori reali)
OPENAI_API_KEY=your_api_key_here
OPENAI_ASSISTANT_ID=your_assistant_id_here
GEMINI_API_KEY=your_gemini_key_here

# FAQ Configuration
FAQ_SEMANTIC_THRESHOLD=0.85
FAQ_LEXICAL_THRESHOLD=0.60
OPENAI_USE_EMBEDDINGS=false

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=laravel
DB_USERNAME=root
DB_PASSWORD=

BROADCAST_DRIVER=log
CACHE_DRIVER=file
FILESYSTEM_DISK=local
QUEUE_CONNECTION=sync
SESSION_DRIVER=file
SESSION_LIFETIME=120

MEMCACHED_HOST=127.0.0.1

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=smtp
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_HOST=
PUSHER_PORT=443
PUSHER_SCHEME=https
PUSHER_APP_CLUSTER=mt1

VITE_APP_NAME="${APP_NAME}"
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# ============================================================================
# ATLAS SEARCH RAG CONFIGURATION
# 
# Configuration for Retrieval-Augmented Generation (RAG) using MongoDB Atlas
# Vector Search and Text Search with Hybrid RRF (Reciprocal Rank Fusion)
# ============================================================================

# --- OpenAI Embedding Configuration ---
# Model used for generating text embeddings (vector representations)
WEBSCRAPER_EMBEDDING_MODEL=text-embedding-3-small
# Dimension size of embedding vectors (must match Atlas index configuration)
WEBSCRAPER_EMBEDDING_DIMENSIONS=1536

# --- LLM Configuration for Q&A Generation ---
# OpenAI model used for generating answers from retrieved context
WEBSCRAPER_LLM_MODEL=gpt-3.5-turbo
# Temperature controls randomness (0.0 = deterministic, 1.0 = creative)
WEBSCRAPER_LLM_TEMPERATURE=0.7
# Maximum tokens in LLM response
WEBSCRAPER_LLM_MAX_TOKENS=1000

# --- Vector Search Configuration ---
# Atlas Vector Search index name (must exist in MongoDB Atlas)
WEBSCRAPER_VECTOR_INDEX_NAME=vector_index_1
# Number of top similar chunks to retrieve
WEBSCRAPER_VECTOR_TOP_K=10
# Number of candidates to examine before filtering to top_k (higher = more accurate but slower)
WEBSCRAPER_VECTOR_NUM_CANDIDATES=100
# Minimum cosine similarity score (0.0 to 1.0) - chunks below this are filtered out
WEBSCRAPER_VECTOR_MIN_SIMILARITY=0.7

# --- Text Search Configuration ---
# Atlas Text Search index name (must exist in MongoDB Atlas)
WEBSCRAPER_TEXT_INDEX_NAME=text_search_index
# Enable fuzzy matching for typo tolerance
WEBSCRAPER_TEXT_FUZZY_ENABLED=true
# Maximum character edits allowed for fuzzy matching (1-2 recommended)
WEBSCRAPER_TEXT_FUZZY_MAX_EDITS=2
# Number of prefix characters that must match exactly (reduces false positives)
WEBSCRAPER_TEXT_FUZZY_PREFIX_LENGTH=3
# Autocomplete fuzzy matching settings (stricter than full-text search)
WEBSCRAPER_AUTOCOMPLETE_MAX_EDITS=1
WEBSCRAPER_AUTOCOMPLETE_PREFIX_LENGTH=2

# --- Hybrid Search Configuration (RRF) ---
# Reciprocal Rank Fusion constant (60 is industry standard, higher = less aggressive merging)
WEBSCRAPER_HYBRID_RRF_K=60
# Weight for vector search results in hybrid ranking (1.0 = equal weight)
WEBSCRAPER_HYBRID_VECTOR_WEIGHT=1.0
# Weight for text search results in hybrid ranking (1.0 = equal weight)
WEBSCRAPER_HYBRID_TEXT_WEIGHT=1.0

